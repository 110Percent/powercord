const Events = require('events');

module.exports = class Plugin extends Events {
  constructor (options) {
    super();

    this.options = {
      stage: 0,
      dependencies: [],
      ...options
    };
    this.ready = false;
  }

  async _start () {
    await this.start();
    this.log('Plugin started');
    return (this.ready = true);
  }

  _stop () {
    this.log('Plugin shutting down');
    this.ready = false;
    return this.stop();
  }

  log(...data) {
    console.log(`%c[Powercord:${this.constructor.name}]`, 'color: #257dd4', ...data)
  }

  error(...data) {
    console.error(`%c[Powercord:${this.constructor.name}]`, 'color: #257dd4', ...data)
  }
};
